<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Getting a KCA Certificate</title>
</head>
<p>
<center>
<a href="http://www.fnal.gov/"><img src="/images/logotop.gif" border="0" height="30" width="404"></a>
<br>
<font size=+3>
Getting a KCA Certificate for Linux
</font>
</center>
<p>
To get and use a KCA certificate:
<ol>
<li> GetCert method:
  <ul>
  <li> Download <a href=http://security.fnal.gov/tools/get-cert.tar.gz>get-cert.tar.gz</a>
  <li> <b>tar -xzf get-cert.tar.gz</b> <br>
       This will create a kca directotry.
  <li> <b>kinit -r 7d</b> <br>
           If you make your ticket renewable for 7 days, then the resulting certificate
	   will be valid for 7 days.
  <li> <b>cd kca</b> and choose one of the following options
       <ol>
       <li>  <b>./get-cert.sh</b> <br>
             The certificate will be /tmp/x509up_u&lt;your uid&gt;.p12, where &lt;your uid&gt; is your UID. <br>
             You will need to manually <a href=import-cert.html>import</a> the certificate.
       <li> Close your browser. <br>
            <b>./get-cert.sh -i</b> <br>
            This option should automatically import the certificate into
	    your browser.  If it does not, 
            manually <a href=import-cert.html>import</a> the certificate.
       </ol>
  <li> get-cert.sh will tell you the name and location of the certificate 
      it creates.
  </ul>
<li>  Manual method:
  <ul>
  <li> <b>kinit -r 7d</b> <br>
           If you make your ticket renewable for 7 days, then the resulting certificate
	   will be valid for 7 days.
  <li> <b>kx509</b>
  <li> <b>kxlist -p</b>
  <li> <b>openssl pkcs12 -in /tmp/x509up_u&lt;your uid&gt; -out /tmp/x509up_u&lt;your uid&gt;.p12 -export</b> <br>
       This converts your x509 certificate to browser format. <br>
       The file will be named /tmp/x509up_u&lt;your uid&gt;.p12, where &lt;your uid&gt; is your UID. <br>
       You will be asked for a password that will be used when you import your 
       certificate into your browser.
  </ul>
<li> If your certificate was not imported, see 
     <a href=import-cert.html>these instructions</a>.
<li> If you want, test your certificate by going to 
     <a href=http://security.fnal.gov/pki/browsercerttest.html>http://security.fnal.gov/pki/browsercerttest.html</a>
     and following the instructions.

<li> Finally, <a href=register-cert.html>register</a> your certificate with 
     the LARP document database.
     <font color="red">You only need to register once.</font>
</ol>

<p>
<!-- footer begins here -->
<table border="0" cellpadding="0" cellspacing="0">
   <tr>
     <td colspan="2" valign="top"><img src="/images/footer.gif" border="0" height="12" width="602"></td>
   </tr>
   <tr>
     <td valign="top"><font size="-2"><a href="http://www.fnal.gov/pub/disclaim.html" class="linksmall">Security, Privacy, Legal</a></font></td>
     <td align="right" valign="top"><img alt="Fermi National Accelerator Laboratory" src="/images/footertext.gif" border="0" height="14" width="228"></td>
   </tr>
   <tr>
     <td>
       <address>
       <i><small>
       <A HREF="mailto:docdb-users@fnal.gov">DocDB Forum</A> 
       </small></i>
       </address>
     </td>
     <td> </td>
   </tr>
   <script language="javascript">
   <!-- Hide from browsers that do not understand Javascript
   // print the URL and modification date of this page
   var url = document.location;
   document.write('<tr><td align=left> ')
   document.write(url)
   var dt = document.lastModified;
   document.write('</td><td align=right> Last Modified:')
   document.write(dt)
   document.write('</td></tr>')
   // end hiding -->
   </script>
</table>
<!-- footer  ends here -->

</body>
</html>

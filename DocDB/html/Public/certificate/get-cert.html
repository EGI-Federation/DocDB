<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Getting a Certificate</title>
</head>
<p>
<center>
<a href="http://www.fnal.gov/"><img src="/images/logotop.gif" border="0" height="30" width="404"></a>
<br>
<font size=+3>
Getting a Certificate
</font>
</center>
<p>
You can use either a DOEGrid Certificate or a Fermi Kerberos (KCA) certificate.
<br>
Each certificate type will need to be separately registered with the database.
<p>
To get and use a 
<a href=http://computing.fnal.gov/security/pki/Get-Personal-DOEGrids-Cert.html>DOEGrid Certificate</a>
<br>
Windows IE users should note that you may need to use "Microsoft Enhanced
Cryptographic Provider" instead of "Microsoft Strong Cryptographic Provider".
<br>
<font color=darkgreen>If you use a personal DOEGrid certificate, 
you should request a single certificate and copy it to all relevant
machines.</font>
<p>
To get and use a KCA certificate:
<ul>
<li> Linux: 
    <ul>
    <li> <b>kinit -r 7d</b> <br>
             If you make your ticket renewable for 7 days, then the resulting certificate
	     will be valid for 7 days.
    <li> GetCert method:
      <ul>
      <li> Go to <a href=http://computing.fnal.gov/security/pki/Get-KCA-Cert.html>http://computing.fnal.gov/security/pki/Get-KCA-Cert.html</a> <br>
           Page down and follow the instructions for Linux.  
      </ul>
    <li> dokx509 method:
      <ul>
      <li> Download and run <a href=/LARP-public/DocDB/RetrieveFile?docid=1>dokx509</a> <br>
           This script will create a certificate and load it into mozilla or Firefox.  <br> 
	   <font color=red>WARNING:  This script only works with some browser versions.</font>
     </ul>
    <li>  manual method:
      <ul>
      <li> <b>kx509</b>
      <li> <b>kxlist -p</b>
      <li> <b>openssl pkcs12 -in /tmp/x509up_u&lt;your uid&gt; -out /tmp/x509up_u&lt;your uid&gt;.p12 -export</b> <br>
	   This converts your x509 certificate to browser format. <br>
	   The file will be named /tmp/x509up_u&lt;your uid&gt;.p12, where &lt;your uid&gt; is your UID. <br>
	   The password you pick here will be used when you import your certificate
	   into your browser.
      </ul>
    </ul>
<li> Windows: 
    <ul>
    <li> Go to <a href=http://computing.fnal.gov/security/pki/Get-KCA-Cert.html>http://computing.fnal.gov/security/pki/Get-KCA-Cert.html</a>
    <li> Page down and follow the instructions under "Windows".
    </ul>
<li> Now import this certificate into your browser.
   <ul>
   <li> For Linux Firefox: <br>
       open edit -> preferences -> advanced -> certificates -> manage certificates <br>
       click import and enter the filename (/tmp/x509up_u&lt;your uid&gt;.p12)
   <li> For Mozilla: <br>
       open edit -> preferences -> Privacy &amp; Security -> Certificates ->
       manage certificates <br>
       click import and enter the filename (/tmp/x509up_u&lt;your uid&gt;.p12)
   <li> For Windows Firefox: <br>
       open tools -> options -> Advanced -> Certificates -> manage certificates <br>
       click import and enter the filename 
   <li> For Windows IE: <br>
       open tools -> Internet Options -> Content -> Certificates <br>
       click import and enter the filename 

   </ul>
<li> <a href=http://computing.fnal.gov/security/pki/browsercerttest.html>test your certificate</a>
</ul>

<p>
<!-- footer begins here -->
<table border="0" cellpadding="0" cellspacing="0">
   <tr>
     <td colspan="2" valign="top"><img src="/images/footer.gif" border="0" height="12" width="602"></td>
   </tr>
   <tr>
     <td valign="top"><font size="-2"><a href="http://www.fnal.gov/pub/disclaim.html" class="linksmall">Security, Privacy, Legal</a></font></td>
     <td align="right" valign="top"><img alt="Fermi National Accelerator Laboratory" src="/images/footertext.gif" border="0" height="14" width="228"></td>
   </tr>
   <tr>
     <td>
       <address>
       <i><small>
       <A HREF="mailto:garren@fnal.gov">LARP DocDB Administrator</A> 
       </small></i>
       </address>
     </td>
     <td> </td>
   </tr>
   <script language="javascript">
   <!-- Hide from browsers that do not understand Javascript
   // print the URL and modification date of this page
   var url = document.location;
   document.write('<tr><td align=left> ')
   document.write(url)
   var dt = document.lastModified;
   document.write('</td><td align=right> Last Modified:')
   document.write(dt)
   document.write('</td></tr>')
   // end hiding -->
   </script>
</table>
<!-- footer  ends here -->

</body>
</html>
